//===========================================================
//定时器1用于光控控制
//===========================================================
#include "main.h"
#include "tim1.h"

//uint8_t main_TM;
//#define	TH1VAL (65536-160)
//#define	TL1VAL (65536-160)

//===========================================================
//		配置TIM0
//===========================================================
void TIM1_Config(uint16_t VAL)
{
	AUXR |= 0x40;		//定时器时钟1T模式
	TMOD &= 0x0F;		//16位自动重载模式
	TH1=VAL/256;
	TL1=VAL%256;
	ET1=1;			//开中断
}
////===========================================================
////		使能TIM0
////===========================================================
//void TIM1_Enable(void)
//{
//	TR1=1;
//}
////===========================================================
////		关闭TIM1
////===========================================================
//void TIM1_Disable(void)
//{
//	TR1=0;
//}

////===========================================================
////    TIMER 1 interrupt subroutine
////===========================================================
//void Timer1_ISR (void) interrupt 3  //interrupt address is 0x000B
//{
//    TH1=TH0VAL;
//	TL1=TL0VAL;
////    main_TM++;
////    P17^=1;
//}
